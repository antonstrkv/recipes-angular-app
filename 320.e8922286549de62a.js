"use strict";(self.webpackChunkangular_app=self.webpackChunkangular_app||[]).push([[320],{3320:(I,l,r)=>{r.r(l),r.d(l,{ShoppingListModule:()=>v});var s=r(433),u=r(1196),m=r(4466),t=r(8256),d=r(2457),c=r(6895),a=r(9985);const g=["f"];function h(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const p=t.oxw();return t.KtG(p.onDelete())}),t._uU(1,"Delete"),t.qZA()}}let f=(()=>{class n{constructor(e){this.slService=e,this.editMode=!1}ngOnInit(){this.subscription=this.slService.startedEditing.subscribe(e=>{this.editMode=!0,this.editedItemIndex=e,this.editItem=this.slService.getIngredient(e),this.slForm.setValue({name:this.editItem.name,amount:this.editItem.amount})})}onSubmit(){const e=this.slForm.value,i=new a.o(e.name,e.amount);this.editMode?this.slService.updateIngredient(this.editedItemIndex,i):this.slService.addIngredient(i),this.editMode=!1,this.slForm.reset()}onClear(){this.slForm.reset(),this.editMode=!1}onDelete(){this.slService.deleteIngredient(this.editedItemIndex),this.onClear()}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shopping-edit"]],viewQuery:function(e,i){if(1&e&&t.Gf(g,5),2&e){let p;t.iGM(p=t.CRH())&&(i.slForm=p.first)}},decls:20,vars:4,consts:[[1,"row"],[1,"col-xs-10"],[3,"ngSubmit"],["f","ngForm"],[1,"col-sm-5","form-group"],["for","name"],["type","text","id","name","name","name","ngModel","","required","",1,"form-control"],[1,"col-sm-2","form-group"],["for","amount"],["type","number","id","amount","name","amount","ngModel","","required","",1,"form-control",3,"pattern"],[1,"col-xs-12"],["type","submit",1,"btn","btn-defoult",2,"margin-right","5px",3,"disabled"],["class","btn btn-danger","type","button","style","margin-right: 5px",3,"click",4,"ngIf"],["type","button",1,"btn","btn-defoult",3,"click"],["type","button",1,"btn","btn-danger",2,"margin-right","5px",3,"click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(4,"div",0)(5,"div",4)(6,"label",5),t._uU(7,"Name"),t.qZA(),t._UZ(8,"input",6),t.qZA(),t.TgZ(9,"div",7)(10,"label",8),t._uU(11,"Amount"),t.qZA(),t._UZ(12,"input",9),t.qZA()(),t.TgZ(13,"div",0)(14,"div",10)(15,"button",11),t._uU(16),t.qZA(),t.YNc(17,h,2,0,"button",12),t.TgZ(18,"button",13),t.NdJ("click",function(){return i.onClear()}),t._uU(19,"Clear"),t.qZA()()()()()()),2&e){const p=t.MAs(3);t.xp6(12),t.Q6J("pattern","[1-9]+[0-9]*$"),t.xp6(3),t.Q6J("disabled",!p.valid),t.xp6(1),t.hij(" ",i.editMode?"Update":"Add",""),t.xp6(1),t.Q6J("ngIf",i.editMode)}},dependencies:[c.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.c5,s.On,s.F]}),n})();function b(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"li",4),t.NdJ("click",function(){const C=t.CHM(e).index,_=t.oxw();return t.KtG(_.onEditItem(C))}),t._uU(1),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(1),t.AsE(" ",e.name," (",e.amount,") ")}}let S=(()=>{class n{constructor(e){this.slService=e}ngOnInit(){this.ingredients=this.slService.getIngredients(),this.subscription=this.slService.ingredientsChanged.subscribe(e=>{this.ingredients=e})}ngOnDestroy(){this.subscription.unsubscribe()}onEditItem(e){this.slService.startedEditing.next(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shopping-list"]],decls:6,vars:1,consts:[[1,"row"],[1,"col-xs-10"],[1,"list-group"],["class","list-group-item","style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item",2,"cursor","pointer",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-shopping-edit")(3,"hr"),t.TgZ(4,"ul",2),t.YNc(5,b,2,2,"li",3),t.qZA()()()),2&e&&(t.xp6(5),t.Q6J("ngForOf",i.ingredients))},dependencies:[c.sg,f]}),n})(),v=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.m,s.u5,u.Bz.forChild([{path:"",component:S}])]}),n})()}}]);